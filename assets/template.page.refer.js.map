{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./scripts/lib/swell/lang/index.js","webpack:///./scripts/templates/page.refer.js","webpack:///./scripts/lib/swell/refer/definitions.js","webpack:///./scripts/lib/swell/refer/ReferralHistory.js","webpack:///external \"window.jQuery\""],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","9","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","p","jsonpArray","window","shopifySlateJsonp","oldJsonpFunction","slice","_get2","obj","content","document","querySelector","JSON","parse","innerHTML","defaultValue","arguments","lang","_classCallCheck3","_interopRequireDefault","_createClass3","_jquery2","_lang","_definitions2","_ReferralHistory2","referral","Referral","referralFormsData","shareLinks","this","form","onSubmit","append","addClass","formType","text","title","html","explain","inputType","placeholder","type","submitText","class","submit","e","renderShareLinks","remove","referralForms","existingUserForm","shareFormLabel","swellAPI","getCustomerDetails","referralLink","shareFormButtonText","data-copied-text","shareFormCopiedText","id","click","link","navigator","clipboard","writeText","execCommand","btn","getElementById","classList","add","setTimeout","forEach","shareLink","icon","href","val","renderReferralForm","newUserForm","onClientEmailSubmit","onFriendEmailSubmit","focus","customer","newUserElementClass","existingUserElementClass","email","removeClass","preventDefault","customersInput","identifyReferrer","emails","split","sendReferralEmails","hide","success","excerpt_html","button_text","show","empty","refreshCustomerDetails","renderReferralHistory","err","message","console","log","referralShareLinks","on","ready","showReferralForm","one","copyLinkPath","revealForm","referrals","undefined","subLabel","531","ReferralHistory","centsPerPoint","customerDetails","pointsBalance","css","populateReferredEmails","completedAt","jQuery"],"mappings":"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","file":"template.page.refer.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t9: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"shopifySlateJsonp\"] = window[\"shopifySlateJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([529,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get = undefined;\n\nvar _get = require('lodash/get');\n\nvar _get2 = _interopRequireDefault(_get);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar content = document.querySelector('[data-swell-i18n]');\n\nif (content) {\n  content = JSON.parse(content.innerHTML);\n}\n\nvar get = exports.get = function get(key) {\n  var defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var lang = (0, _get2.default)(content, key);\n\n  return lang ? lang : defaultValue;\n};","'use strict';\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _jquery = require('jquery');\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _lang = require('../lib/swell/lang');\n\nvar _definitions = require('../lib/swell/refer/definitions');\n\nvar _definitions2 = _interopRequireDefault(_definitions);\n\nvar _ReferralHistory = require('../lib/swell/refer/ReferralHistory');\n\nvar _ReferralHistory2 = _interopRequireDefault(_ReferralHistory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Referral = function () {\n  function Referral(referralFormsData, shareLinks) {\n    (0, _classCallCheck3.default)(this, Referral);\n\n    this.referralFormsData = referralFormsData;\n    this.shareLinks = shareLinks;\n  }\n\n  (0, _createClass3.default)(Referral, [{\n    key: 'renderReferralForm',\n    value: function renderReferralForm(form, onSubmit) {\n      // console.log(form.formType);\n      (0, _jquery2.default)(\".swell-referral\").append((0, _jquery2.default)(\"<form>\").addClass(form.formType).append((0, _jquery2.default)(\"<h3>\").text(form.title).addClass(\"swell-form-title mb-3\"), (0, _jquery2.default)(\"<label>\").html(form.explain).addClass(\"explain-text\"), (0, _jquery2.default)('<div class=\"form-fields\">').append((0, _jquery2.default)('<input autofocus type=\"' + form.inputType + '\" placeholder=\"' + form.placeholder + '\" class=\"swell-input-text\" />'), (0, _jquery2.default)(\"<input>\", {\n        type: \"submit\",\n        value: form.submitText,\n        class: 'form-btn ' + form.class\n      }))\n\n      // , $('<div class=\"form-sub-label\">', { text: swellDefinitions.referralForms.existingUserForm.subLabel})\n\n      ).addClass(\"hidden-form\").submit(function (e) {\n        onSubmit(e);\n      }));\n\n      form.formType === \"existing\" ? this.renderShareLinks(form.formType) : \"\";\n\n      (0, _jquery2.default)('.swell-spinner').remove();\n    }\n  }, {\n    key: 'renderShareLinks',\n    value: function renderShareLinks() {\n      (0, _jquery2.default)(\".swell-referral-copy-links\").append((0, _jquery2.default)(\"<div>\").addClass(\"swell-copyLink-div pt-3 pb-6\").append((0, _jquery2.default)('<div class=\"form-fields\">').append((0, _jquery2.default)('<label for=\"reward-field\" class=\"swell-referral-copy-links__label\">').text(_definitions2.default.referralForms.existingUserForm.shareFormLabel), (0, _jquery2.default)('<input id=\"reward-field\" type=\"text\" readonly class=\"p-link share-field swell-input-text swell-input-text--no-border\">', { value: swellAPI.getCustomerDetails().referralLink }), (0, _jquery2.default)(\"<button>\", {\n        type: \"button\",\n        text: _definitions2.default.referralForms.existingUserForm.shareFormButtonText,\n        class: 'copyLink relative form-btn',\n        'data-copied-text': _definitions2.default.referralForms.existingUserForm.shareFormCopiedText,\n        id: 'referral-copy-button'\n      }).click(function () {\n        var link = swellAPI.getCustomerDetails().referralLink;\n\n        if (navigator.clipboard) {\n          navigator.clipboard.writeText(link);\n        } else {\n          document.execCommand('copy', false, link);\n        }\n\n        var btn = document.getElementById('referral-copy-button');\n\n        btn.classList.add('button-clicked');\n\n        setTimeout(function () {\n          btn.classList.remove('button-clicked');\n        }, 7000);\n      }))));\n\n      (0, _jquery2.default)('.swell-referral-copy-links').append((0, _jquery2.default)(\"<div>\").addClass(\"swell-share-links-container\"));\n\n      (0, _jquery2.default)(\".swell-share-links-container\").append(\n      // $(\"<h3>\").text(\"Share your link directly\").addClass('w-full py-6 mb-0'),\n      (0, _jquery2.default)(\"<ul>\").addClass(\"share-link-list\"));\n      this.shareLinks.forEach(function (shareLink) {\n        (0, _jquery2.default)(\".share-link-list\").append((0, _jquery2.default)(\"<li>\").addClass(\"swell-share-link-li\").append((0, _jquery2.default)(\"<i>\").addClass(shareLink.icon).addClass(\"icons\").addClass(shareLink.class), (0, _jquery2.default)(\"<a>\", {\n          href: shareLink.href,\n          text: shareLink.text\n        }).addClass(\"swell-share-link\").addClass(shareLink.class)).addClass(shareLink.text == \"SMS\" ? \"hidden-sms\" : \"\"));\n      });\n    }\n  }, {\n    key: 'copyLinkPath',\n    value: function copyLinkPath() {\n      (0, _jquery2.default)(\".p-link\").val(swellAPI.getCustomerDetails().referralLink);\n    }\n  }, {\n    key: 'showReferralForm',\n    value: function showReferralForm() {\n      this.renderReferralForm(this.referralFormsData.newUserForm, this.onClientEmailSubmit);\n      this.renderReferralForm(this.referralFormsData.existingUserForm, this.onFriendEmailSubmit);\n      // this.renderShareLinks(form.formType);\n\n      setTimeout(function () {\n        var input = (0, _jquery2.default)('.showing-form .swell-input-text');\n\n        input.focus();\n      }, 15);\n    }\n  }, {\n    key: 'revealForm',\n    value: function revealForm(customer, newUserElementClass, existingUserElementClass) {\n      if (customer.email === undefined) {\n        (0, _jquery2.default)('.' + newUserElementClass).addClass(\"showing-form\");\n      } else {\n        (0, _jquery2.default)('.' + existingUserElementClass).addClass(\"showing-form\");\n        (0, _jquery2.default)(\".swell-referral-copy-links\").removeClass(\"hidden-div\").addClass(\"showing-div\");\n\n        (0, _jquery2.default)('.showing-form .swell-input-text').focus();\n      }\n    }\n  }, {\n    key: 'onClientEmailSubmit',\n    value: function onClientEmailSubmit(e) {\n      e.preventDefault();\n      var customersInput = (0, _jquery2.default)(\"form.new input\");\n      var onSuccess = function onSuccess() {\n        (0, _jquery2.default)(\".p-link\").val(swellAPI.getCustomerDetails().referralLink);\n        (0, _jquery2.default)(\".swell-form-error\").remove();\n        (0, _jquery2.default)(\"form.new\").removeClass(\"showing-form\").addClass(\"hidden-form\");\n        (0, _jquery2.default)(\"form.existing\").removeClass(\"hidden-form\").addClass(\"showing-form\");\n        (0, _jquery2.default)(\".swell-referral-copy-links\").removeClass(\"hidden-div\").addClass(\"showing-div\");\n      };\n\n      var onError = function onError() {\n        (0, _jquery2.default)(\".swell-form-error\").remove();\n\n        (0, _jquery2.default)(\"form.new\").append((0, _jquery2.default)('<p class=\"swell-form-error\">').html((0, _lang.get)('refer.errors.invalid_email', 'Please enter a valid email address')));\n      };\n\n      swellAPI.identifyReferrer(customersInput.val(), onSuccess, onError);\n    }\n  }, {\n    key: 'onFriendEmailSubmit',\n    value: function onFriendEmailSubmit(e) {\n      e.preventDefault();\n      var referredCustomersInput = (0, _jquery2.default)(\"form.existing input\");\n      var emails = referredCustomersInput.val().split(\",\");\n\n      function onSuccess() {\n        (0, _jquery2.default)(\".swell-form-error\").remove();\n        (0, _jquery2.default)(\"form.existing\").removeClass(\"showing-form\").addClass(\"hidden-form\");\n\n        (0, _jquery2.default)('.swell-referral-copy-links').hide();\n\n        (0, _jquery2.default)(\".swell-referral\").append((0, _jquery2.default)(\"<div>\").addClass(\"swell-success-confirmation\").append((0, _jquery2.default)(\"<h3>\").text(_definitions2.default.referralForms.existingUserForm.success.title).addClass('w-full pb-3'), (0, _jquery2.default)(\"<p>\").html(_definitions2.default.referralForms.existingUserForm.success.excerpt_html).addClass(\"success-message\"),\n        // $(\".success-message\").append(\"<a>\", {\n        //   href: \"https://shop.katefarms.com/\",\n        //   text: \"visit the shop.\"\n        // }).addClass(\"underline\"),\n        (0, _jquery2.default)(\"<button>\").text(_definitions2.default.referralForms.existingUserForm.success.button_text).addClass(\"form-btn\").click(function () {\n          (0, _jquery2.default)(\".swell-success-confirmation\").remove();\n\n          (0, _jquery2.default)('.swell-referral-copy-links').show();\n\n          (0, _jquery2.default)('#reward-field').val(swellAPI.getCustomerDetails().referralLink);\n\n          (0, _jquery2.default)(\"form.existing\").removeClass(\"hidden-form\").addClass(\"showing-form\");\n        })));\n\n        //refresh-history\n        (0, _jquery2.default)(\".swell-input-text\").val(\"\");\n        (0, _jquery2.default)(\".swell-referral-history\").empty();\n        swellAPI.refreshCustomerDetails();\n\n        setTimeout(function () {\n          new _ReferralHistory2.default(swellAPI.getCustomerDetails()).renderReferralHistory();\n        }, 1000);\n      }\n\n      function onError(err) {\n        (0, _jquery2.default)(\".swell-form-error\").remove();\n\n        if (err.message == 'EMAILS_ALREADY_PURCHASED') {\n          console.log(err.message, (0, _lang.get)('refer.errors'));\n          err.message = (0, _lang.get)('refer.errors.emails_already_purchased');\n        }\n\n        (0, _jquery2.default)(\"form.existing\").append((0, _jquery2.default)(\"<p>\").text(err.message).addClass(\"swell-form-error\"));\n      }\n\n      swellAPI.sendReferralEmails(emails, onSuccess, onError);\n    }\n  }]);\n  return Referral;\n}();\n\nvar referral = new Referral(_definitions2.default.referralForms, _definitions2.default.referralShareLinks);\n\n(0, _jquery2.default)(window).on('load', function () {\n  (function () {\n    (0, _jquery2.default)(document).ready(function () {\n\n      (0, _jquery2.default)(document).on(\"swell:initialized\", function () {\n        referral.showReferralForm();\n      });\n      (0, _jquery2.default)(document).one(\"swell:setup\", function () {\n        referral.copyLinkPath();\n        referral.revealForm(swellAPI.getCustomerDetails(), _definitions2.default.referralForms.newUserForm.formType, _definitions2.default.referralForms.existingUserForm.formType);\n\n        if (swellAPI.getCustomerDetails().referrals.length > 0) {\n          new _ReferralHistory2.default(swellAPI.getCustomerDetails()).renderReferralHistory();\n        }\n      });\n    });\n  }).call(undefined);\n});","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lang = require('../lang');\n\nexports.default = {\n  referralForms: {\n    newUserForm: {\n      inputType: \"text\",\n      submitText: (0, _lang.get)('refer.new_user.button_text', 'Next'),\n      placeholder: \"\",\n      formType: \"new\",\n      title: (0, _lang.get)('refer.new_user.form_header', 'Share KATEFARMS'),\n      explain: (0, _lang.get)('refer.new_user.field_label', 'Enter your email to get started'),\n      class: \"blue\"\n    },\n    existingUserForm: {\n      inputType: \"text\",\n      submitText: \"Send\",\n      placeholder: \"\",\n      formType: \"existing\",\n      title: (0, _lang.get)('refer.existing_user.form_header', 'Share Kate Farms'),\n      explain: (0, _lang.get)('refer.existing_user.field_label', \"Friend's email address\"),\n      subLabel: (0, _lang.get)('refer.existing_user.field_sublabel', 'Separate multiple email addresses with a comma'),\n      class: \"blue\",\n      shareFormLabel: (0, _lang.get)('refer.existing_user.share_form.label', 'Post or share your referral link anywhere'),\n      shareFormButtonText: (0, _lang.get)('refer.existing_user.share_form.button_text', 'Copy link'),\n      shareFormCopiedText: (0, _lang.get)('refer.existing_user.share_form.copied_text', 'Link copied!'),\n\n      success: {\n        title: (0, _lang.get)('refer.existing_user.success.title', 'Thank you for sharing Kate Farms'),\n        excerpt_html: (0, _lang.get)('refer.existing_user.success.excerpt_html', 'Refer another friend, or <a class=\"underline\" href=\"/\" title=\"visit the shop\">visit the shop</a>'),\n        button_text: (0, _lang.get)('refer.existing_user.success.button_text', 'Refer another friend')\n      }\n    }\n  },\n  referralShareLinks: [{\n    class: \"swell-share-referral-facebook\",\n    href: \"javascript:void(0)\",\n    icon: \"icon icon-facebook\",\n    text: \"Facebook\"\n  }, {\n    class: \"swell-share-referral-sms\",\n    href: \"javascript:void(0)\",\n    icon: \"far fa-comment-alt\",\n    text: \"SMS\"\n  }, {\n    class: \"swell-share-referral-messenger\",\n    href: \"javascript:void(0)\",\n    icon: \"icon icon-facebook-messenger\",\n    text: \"Facebook Messenger\"\n  }, {\n    class: \"swell-share-referral-twitter\",\n    href: \"javascript:void(0)\",\n    icon: \"icon icon-twitter\",\n    text: \"Twitter\"\n  }]\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _jquery = require(\"jquery\");\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ReferralHistory = function () {\n  function ReferralHistory(customer) {\n    (0, _classCallCheck3.default)(this, ReferralHistory);\n\n    this.customer = customer;\n    this.centsPerPoint = 0.1;\n  }\n\n  (0, _createClass3.default)(ReferralHistory, [{\n    key: \"renderReferralHistory\",\n    value: function renderReferralHistory() {\n      var customerDetails = swellAPI.getCustomerDetails();\n      (0, _jquery2.default)(\".swell-point-balance-dollar\").text(\"$\" + customerDetails.pointsBalance * this.centsPerPoint + \" \");\n\n      if (customerDetails.pointsBalance > 0) {\n        (0, _jquery2.default)(\".swell-referral-history-div\").removeClass(\"hidden-div\").addClass(\"showing-div\");\n      }\n\n      (0, _jquery2.default)(\".swell-referral-back\").css(\"margin\", \"2% 0 3% 0\");\n\n      (0, _jquery2.default)(\".swell-referral-history\").append((0, _jquery2.default)(\"<table>\").addClass(\"swell-referral-history-table\").append((0, _jquery2.default)(\"<thead>\").append((0, _jquery2.default)(\"<tr>\").append((0, _jquery2.default)(\"<td>\").text(\"Email\"), (0, _jquery2.default)(\"<td>\").text(\"Status\"))), (0, _jquery2.default)(\"<tbody>\")));\n\n      this.populateReferredEmails();\n    }\n  }, {\n    key: \"populateReferredEmails\",\n    value: function populateReferredEmails() {\n      this.customer.referrals.forEach(function (referral) {\n        (0, _jquery2.default)(\".swell-referral-history table tbody\").append((0, _jquery2.default)(\"<tr>\").append((0, _jquery2.default)(\"<td>\").text(referral.email), (0, _jquery2.default)(\"<td>\").text(\"\" + (referral.completedAt === null ? \"Invited\" : \"Purchased ($10 earned)\"))));\n      });\n    }\n  }]);\n  return ReferralHistory;\n}();\n\nexports.default = ReferralHistory;","module.exports = window.jQuery;"],"sourceRoot":""}